<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Next item\previous item in array « ASD</title>
  
  
    <meta name="description" content="Algorithm which simplifies working with tree-nodes via TypeScript and Python languages.">
  

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="http://asduser.github.io/2016/programming/nextitem-previtem-in-array">
  <link rel="alternate" type="application/rss+xml" title="ASD" href="http://asduser.github.io/feed.xml" />
  <link rel="shortcut icon" type="image/png" href="/images/3066.png">

  <!-- <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> -->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
</head>


  <body>

    <header class="header">
  <div class="wrapper">
    <a class="site-title" href="/">ASD</a>
    <nav class="site-nav">
      <!-- 
        
      
        
        <a class="page-link" href="/about/">About me</a>
        
      
        
        <a class="page-link" href="/category/">Category</a>
        
      
        
      
        
      
        
      
        
        <a class="page-link" href="/publications">Publications</a>
        
      
        
        <a class="page-link" href="/works">Works</a>
        
      
        
       -->            
      <a class="page-link" href="/works">Works</a>      
      <a class="page-link" href="/publications">Publications</a>
      <a class="page-link" href="/">Blog</a>
      <a class="page-link" href="/about">About</a>
    </nav>
  </div>
</header>

    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Next item\previous item in array</h1>
    <p class="post-meta">Sep 28, 2016</p>
  </header>

  <article class="post-content">
    <p>Hi, everybody! Today I’d like to tell you about some often used features in programming - find next\previous item in array. It happens when you need to operate with tree-node elements or just switch on to the specific item in collection.</p>

<p>The code below assumes that each item should has two attributes: unique id and value field. Due to boolean comparison operator we can get an appropriate element.</p>

<h3 id="next-item-algorithm">Next item algorithm.</h3>

<ol>
  <li>Check if current index in iteration is not equal to collection.length, otherwise - specify index to 0.</li>
  <li>Increase current index by 1.</li>
  <li>Check if current element has value. If not - do 2nd step, if yes - return it and break loop.</li>
</ol>

<h3 id="previous-item-algorithm">Previous item algorithm.</h3>

<ol>
  <li>Check if current index in iteration is not equal to zero, otherwise - specify index to collection.length.</li>
  <li>Decrease current index by 1.</li>
  <li>Check if current element has value. If not - do 2nd step, if yes - return it and break loop.</li>
</ol>

<h2 id="typescript-implementation">Typescript implementation</h2>

<pre><code class="language-typescript">
// Declare class.
class Item {
    constructor(public id: number, public val: number = null){}
}

// Fill elements collection.
// It will be equal to: [{id:0, val: null}, {id:1, val: null}, {id:2, val: 32}, {id:3, val: null}, {id:4, val: 53}];
const arr: Item[] = [new Item(0), new Item(1), new Item(2, 32), new Item(3), new Item(4, 53)];

// Special helper if no one element has value.
const isAllNull = (arr: Array&lt;Item&gt;) =&gt; {
    return arr.every((el) =&gt; !el.val);
};

// Declare function to find next item.
const nextIndex = (index: number, arr: Array&lt;Item&gt;): any =&gt; {
    if (isAllNull(arr)) return {}; 
    let item = null;
    const minI = 0;
    let i = index;
    while (i &lt; arr.length) {
        i++;
        if (i == arr.length) { i = minI; }
        if (arr[i].val) { item = arr[i]; break;}
    }
    return item;
};

// Declare function to find previous item.
const prevIndex = (index: number, arr: Array&lt;Item&gt;): any =&gt; {
    if (isAllNull(arr)) return {};
    let item = null;
    const maxI = arr.length;
    let i = index;
    while (i &gt; 0) {
        i--;
        if (arr[i].val) { item = arr[i]; break;}
        if (i == 0) { i = maxI; }
    }
    return item;
};

console.log( nextIndex(2, arr) ); // {id:4, val: 53}
console.log( nextIndex(4, arr) ); // {id:2, val: 32}
console.log( prevIndex(4, arr) ); // {id:2, val: 32}

// Create another collection where all items have 'null' value.
const arr1: Item[] = [new Item(0), new Item(1)];
console.log( prevIndex(1, arr1) ); // {}

</code></pre>

<h2 id="python-implementation">Python implementation</h2>

<div class="language-python highlighter-rouge"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">isAllNull</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="s">'val'</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">False</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">arr</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">nextIndex</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">arr</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">isAllNull</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="n">minI</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">index</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">minI</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s">'val'</span><span class="p">]:</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">item</span>


<span class="k">def</span> <span class="nf">prevIndex</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">arr</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">isAllNull</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="n">maxI</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">index</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">maxI</span>
        <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s">'val'</span><span class="p">]:</span>
            <span class="n">item</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">break</span>
    <span class="k">return</span> <span class="n">item</span>

<span class="n">arr</span> <span class="o">=</span> <span class="p">[{</span><span class="s">'id'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'val'</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="p">{</span><span class="s">'id'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">'val'</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="p">{</span><span class="s">'id'</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s">'val'</span><span class="p">:</span> <span class="mi">32</span><span class="p">},</span> <span class="p">{</span><span class="nb">id</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s">'val'</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="p">{</span><span class="s">'id'</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s">'val'</span><span class="p">:</span> <span class="mi">53</span><span class="p">}]</span>

<span class="k">print</span><span class="p">(</span><span class="n">nextIndex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">arr</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">nextIndex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">arr</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">prevIndex</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">arr</span><span class="p">))</span>

<span class="n">arr1</span> <span class="o">=</span> <span class="p">[{</span><span class="s">'id'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'val'</span><span class="p">:</span> <span class="bp">False</span><span class="p">},</span> <span class="p">{</span><span class="s">'id'</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s">'val'</span><span class="p">:</span> <span class="bp">False</span><span class="p">}]</span>
<span class="k">print</span><span class="p">(</span><span class="n">nextIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">arr1</span><span class="p">))</span>

</code></pre>
</div>

<p>As you see, we have a special checking if all elements in collection will have null\false value. In that case, method should just return an empty object or smth that you want.</p>

<p>To be continued…</p>

  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="http://asduser.github.io/images/blog_logo_sidebar.png" alt="Another Software Developer">
  <div class="col-box-title name">Another Software Developer</div>
  <p>Network Development: TypeScript, Node.js, Python, Golang, C.</p>
  <p class="contact">
    
    <!-- <a href="https://github.com/asduser">GitHub</a> -->
    <iframe src="https://ghbtns.com/github-btn.html?user=asduser&type=follow&count=true&size=large" frameborder="0" scrolling="0" width="220px" height="30px"></iframe>
    
    
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">Newest Posts</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/technologies/xmpp-messaging">XMPP Messaging - first experience</a></li>
    
      <li><a class="post-link" href="/tools/robomongo">Robomongo tool for MongoDB</a></li>
    
      <li><a class="post-link" href="/2016/programming/nextitem-previtem-in-array">Next item\previous item in array</a></li>
    
      <li><a class="post-link" href="/typescript/web-api-error-handler">Typescript - Web API error handler</a></li>
    
      <li><a class="post-link" href="/typescript/references-managing">A way to manage TypeScript references</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">  
  <div class="col-box-title">TOC</div>
</div>
        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2016 Another Software Developer
</div>
</footer>

<script src="/js/easybook.js"></script>
<script src="/js/global-initializations.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
<script>
	$(document).ready(function(){
		$("pre").each(function(){
			$(this).addClass("prettyprint");
		});
	})
</script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=sons-of-obsidian" defer="defer"></script>

  </body>

</html>
