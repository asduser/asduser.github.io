<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>XMPP Messaging - first experience « ASD</title>
  
  
    <meta name="description" content="XMPP messaging - how to work with web-chats and build cross-platform applications.">
  

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom.css">
  <link rel="canonical" href="http://asduser.github.io/2016/technologies/xmpp-messaging">
  <link rel="alternate" type="application/rss+xml" title="ASD" href="http://asduser.github.io/feed.xml" />
  <link rel="shortcut icon" type="image/png" href="/images/3066.png">

  <!-- <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script> -->
  <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
</head>


  <body>

    <header class="header">
  <div class="wrapper">
    <a class="site-title" href="/">ASD</a>
    <nav class="site-nav">
      <!-- 
        
      
        
        <a class="page-link" href="/about/">About me</a>
        
      
        
        <a class="page-link" href="/category/">Category</a>
        
      
        
      
        
      
        
      
        
        <a class="page-link" href="/publications">Publications</a>
        
      
        
        <a class="page-link" href="/works">Works</a>
        
      
        
       -->            
      <a class="page-link" href="/works">Works</a>      
      <a class="page-link" href="/publications">Publications</a>
      <a class="page-link" href="/">Blog</a>
      <a class="page-link" href="/about">About</a>
    </nav>
  </div>
</header>

    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">XMPP Messaging - first experience</h1>
    <p class="post-meta">Nov 5, 2016</p>
  </header>

  <article class="post-content">
    <p>XMPP - Extensible Messaging and Presence Protocol, which streams different XML stanzas over a network. It was developed in 1998 and official shared in 1999. A lot of helpful services, technologies and tools were designed by XMPP standard and they exist today.</p>

<h2 id="overview">Overview</h2>

<p>I’ve started use XMPP 2 weeks ago and I absolutely had no idea how it works before. So, my first impression - it is a huge and tremendous technology, which truly can solve a wide range of messaging issues.</p>

<p>To start using XMPP over HTTP you should communicate to <a href="https://xmpp.org/about/technology-overview.html#bosh">BOSH</a> - a specific over synchronous HTPP stream.</p>

<p>Before we start talking about practical experience I’d like to share with you useful links from official sites:</p>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/XMPP#Strengths">XMPP strengths</a></li>
  <li><a href="https://en.wikipedia.org/wiki/XMPP#Weaknesses">XMPP weaknesses</a></li>
  <li><a href="https://xmpp.org/about/faq.html">XMPP official FAQ</a> .</li>
</ul>

<p><img src="http://xiffian.sourceforge.net/Screenshots/Screenchat.jpg" alt="xmpp sample chat room" /></p>

<h2 id="setting-the-environment">Setting the environment</h2>

<p>To start with you need to install and configure a server-side environment in according to official documentation. See list of public &amp; available servers - <a href="https://xmpp.org/software/servers.html">click here</a>.</p>

<p>The next step - necessary to determine the client technology to work with XMPP protocol. <a href="https://xmpp.org/software/clients.html">See here</a></p>

<p>You may create a any number of chatrooms, use a private\public conference, broadcast a specific events, accept notifications, transfer images, send smiles etc. It is only a small list of actual XMPP posibilities with whom I’ve dealt.</p>

<p>I was pleasantly surprised acknowledging an ability to work with offline messaging. You may specify a delay counter when your stanza should be delivered to your collocutor.</p>

<h2 id="features">Features</h2>

<p>The first thing is a format of XMPP messaging - XML stanzas. You may share you presence, build a different server requests but always should use XML elements in a strict respected format.</p>

<h3 id="example">Example</h3>

<p>Assume, client sends request to server:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;iq</span> <span class="na">from=</span><span class="s">'hag66@shakespeare.lit/pda'</span>
    <span class="na">id=</span><span class="s">'h7ns81g'</span>
    <span class="na">to=</span><span class="s">'shakespeare.lit'</span>
    <span class="na">type=</span><span class="s">'get'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;query</span> <span class="na">xmlns=</span><span class="s">'http://jabber.org/protocol/disco#items'</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/iq&gt;</span>
</code></pre>
</div>

<p>And immediately will be informed by appropriate response:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;iq</span> <span class="na">from=</span><span class="s">'shakespeare.lit'</span>
    <span class="na">id=</span><span class="s">'h7ns81g'</span>
    <span class="na">to=</span><span class="s">'hag66@shakespeare.lit/pda'</span>
    <span class="na">type=</span><span class="s">'result'</span><span class="nt">&gt;</span>
  <span class="nt">&lt;query</span> <span class="na">xmlns=</span><span class="s">'http://jabber.org/protocol/disco#items'</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">jid=</span><span class="s">'chat.shakespeare.lit'</span>
          <span class="na">name=</span><span class="s">'Chatroom Service'</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/query&gt;</span>
<span class="nt">&lt;/iq&gt;</span>
</code></pre>
</div>

<p>There are a lot of libraries to build a proper messages - you should just specify a list of arguments &amp; values.</p>

<p>One of the most popular JS libraries to work with XMPP are:</p>

<ul>
  <li><a href="https://github.com/strophe/strophejs">Strophe.js</a></li>
  <li><a href="https://github.com/legastero/stanza.io">Stanza.io</a>.</li>
</ul>

<p>I guess, it is cool, cause any developer may be sure that another one uses the same format to build requests. This approach prevents you to make prevalent mistakes or make them less and significantly save your time.</p>

<p><img src="http://blog.armorgames.com/wp-content/uploads/2015/09/chat_room_tab2.png" alt="xmpp sample chat room" /></p>

<h3 id="connection">Connection</h3>

<p>Throughout all session the client will have a list of event emitters, where each of them depends on some appropriate external event.</p>

<p>For example, you connected to the chat-room and if there is some participant, he would be informed by special information stanza.</p>

<p>When you leave room, write a message, join group or send invite - all this actions raise proper broadcasts. You may subscribe to person, configure chat-rooms, manage your contact list and more another cool features.</p>

<h2 id="conclusion">Conclusion</h2>

<p>XMPP - is a cool technology for messaging. If you need to use web-chat and be sure that it will work on cross-platform devices, the choise is clear. Of course, it not only one suitable library to broadcast messages over the browser and any person may use whatever he wants.</p>

<p>In the next time I’ll try to share with you some cases of using XMPP.</p>

<p>Good luck!</p>

  </article>
  
  




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="http://asduser.github.io/images/blog_logo_sidebar.png" alt="Another Software Developer">
  <div class="col-box-title name">Another Software Developer</div>
  <p>Network Development: TypeScript, Node.js, Python, Golang, C.</p>
  <p class="contact">
    
    <!-- <a href="https://github.com/asduser">GitHub</a> -->
    <iframe src="https://ghbtns.com/github-btn.html?user=asduser&type=follow&count=true&size=large" frameborder="0" scrolling="0" width="220px" height="30px"></iframe>
    
    
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">Newest Posts</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/2016/technologies/xmpp-messaging">XMPP Messaging - first experience</a></li>
    
      <li><a class="post-link" href="/tools/robomongo">Robomongo tool for MongoDB</a></li>
    
      <li><a class="post-link" href="/2016/programming/nextitem-previtem-in-array">Next item\previous item in array</a></li>
    
      <li><a class="post-link" href="/typescript/web-api-error-handler">Typescript - Web API error handler</a></li>
    
      <li><a class="post-link" href="/typescript/references-managing">A way to manage TypeScript references</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">  
  <div class="col-box-title">TOC</div>
</div>
        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
&copy; 2016 Another Software Developer
</div>
</footer>

<script src="/js/easybook.js"></script>
<script src="/js/global-initializations.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
<script>
	$(document).ready(function(){
		$("pre").each(function(){
			$(this).addClass("prettyprint");
		});
	})
</script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=sons-of-obsidian" defer="defer"></script>

  </body>

</html>
